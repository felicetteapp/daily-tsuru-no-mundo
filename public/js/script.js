var G=Object.defineProperty;var J=(t,e,i)=>e in t?G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var r=(t,e,i)=>J(t,typeof e!="symbol"?e+"":e,i);var O={d:(t,e)=>{for(var i in e)O.o(e,i)&&!O.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},k={};O.d(k,{k:()=>R,z:()=>x});var x=class t{get isThumbnailLoaded(){return this.thumbnailLoaded}get isImgLoaded(){return this.imgLoaded}get isThumbnailLoading(){return this.thumbnailLoading}get isImgLoading(){return this.imgLoading}constructor({fullsize:e,thumbnail:i,onLoaded:s,onError:o,parent:n,imgWidth:l,imgHeight:h,node:c,aspectRatio:u,mainColor:d}){this.imgEl=new Image,this.thumbnailEl=new Image,this.thumbnail="",this.loaded=!1,this.error=!1,this.imgWidth=0,this.imgHeight=0,this.mainColor="",this.aspectRatio="1/1",this.thumbnailLoaded=!1,this.imgLoaded=!1,this.thumbnailLoading=!1,this.imgLoading=!1,this.fullsize=e,this.thumbnail=i,this.onLoaded=s,this.onError=o,this.parent=n,this.imgWidth=l,this.imgHeight=h,this.node=c,this.aspectRatio=u||"1/1",this.mainColor=d||"",this.imgEl=new Image,this.thumbnailEl=new Image,this.thumbnailEl.width=this.imgWidth,this.thumbnailEl.height=this.imgHeight,this.imgEl.width=this.imgWidth,this.imgEl.height=this.imgHeight,this.node.style.cssText="",this.node.style.setProperty(`--${this.parent.withPrefix("main-color")}`,this.mainColor),this.node.style.setProperty(`--${this.parent.withPrefix("aspect-ratio")}`,this.aspectRatio),this.addClass("thumbnail",this.thumbnailEl),this.addClass("img",this.imgEl),this.addClass("item"),this.addClass("item--initialized"),this.node.innerHTML="",this.imgEl.onload=()=>{var m;this.addClass("item--img-loaded"),this.removeClass("item--img-loading"),this.imgLoaded=!0,(m=this.onLoaded)===null||m===void 0||m.call(this,this)},this.imgEl.onerror=()=>{var m;this.addClass("item--img-error"),this.removeClass("item--img-loading"),this.error=!0,(m=this.onError)===null||m===void 0||m.call(this,this)},this.thumbnailEl.onload=()=>{this.addClass("item--thumbnail-loaded"),this.removeClass("item--thumbnail-loading"),this.addClass("item--img-loading"),this.thumbnailLoaded=!0,this.imgEl.src=this.fullsize},this.parent.intersectionObserver?this.parent.intersectionObserver.observe(this.node):this.load()}withPrefix(e){return this.parent.withPrefix(e)}addClasses(e,i=this.node){e.forEach(s=>{i.classList.add(this.withPrefix(s))})}removeClasses(e,i=this.node){e.forEach(s=>{i.classList.remove(this.withPrefix(s))})}addClass(e,i=this.node){this.addClasses([e],i)}removeClass(e,i=this.node){this.removeClasses([e],i)}load(){this.addClass("item--thumbnail-loading"),this.thumbnailEl.src=this.thumbnail,this.node.appendChild(this.imgEl),this.node.appendChild(this.thumbnailEl),this.parent.intersectionObserver.unobserve(this.node)}destroy(){this.parent.intersectionObserver&&this.parent.intersectionObserver.unobserve(this.node),this.node.remove()}static elementHasCorrectData(e,i){let s=t.propsToCheck.every(o=>e.hasAttribute(i(o)));if(!s){let o=t.propsToCheck.filter(n=>!e.hasAttribute(i(n))).map(n=>i(n));console.error(`Element is missing the following attributes: ${o.join(", ")}`,e)}return s}static extractDataFromAttributes(e,i){return t.elementHasCorrectData(e,i)?{thumbnail:e.getAttribute(i("thumbnail")),fullsize:e.getAttribute(i("fullsize")),imgWidth:parseFloat(e.getAttribute(i("width"))),imgHeight:parseFloat(e.getAttribute(i("height"))),aspectRatio:e.getAttribute(i("aspect-ratio"))||"1/1",mainColor:e.getAttribute(i("main-color"))||""}:null}static fromNode(e,i){let s=t.extractDataFromAttributes(e,i.withPrefix.bind(i));return s?new t({...s,parent:i,node:e}):null}};x.propsToCheck=["thumbnail","fullsize"];var R=class{constructor(){this.elements=[],this.items=[],this.imagesContainer=null,this.prefix="il",this.intersectionObserver=null}withPrefix(e){return`${this.prefix}-${e}`}getElements(e){return typeof e=="string"?document.querySelectorAll(e):e instanceof HTMLElement||e instanceof Element?document.querySelectorAll(e.tagName):e instanceof NodeList?e:e instanceof HTMLCollection?document.querySelectorAll(Array.from(e).map(i=>i.tagName).join(",")):Array.isArray(e)?document.querySelectorAll(e.map(i=>i.tagName).join(",")):e instanceof Object&&"length"in e?document.querySelectorAll(Array.from(e).map(i=>i.tagName).join(",")):document.querySelectorAll("")}getHtmlElementFromNode(e){this.elements=Array.from(e)}getItemsFromElements(){this.items=this.elements.map(e=>x.fromNode(e,this)).filter(Boolean)}init(e,i={}){let s=Object.assign({prefix:"il"},i);this.prefix=s.prefix,this.imagesContainer=s.container||null,this.imagesContainer&&(this.intersectionObserver=new IntersectionObserver(o=>{o.forEach(n=>{if(n.isIntersecting){let l=this.items.find(h=>h.node===n.target);l&&(l.isImgLoaded&&l.isThumbnailLoaded||l.load())}},{root:this.imagesContainer})})),this.getHtmlElementFromNode(this.getElements(e)),this.getItemsFromElements()}},D=k.k,Tt=k.z;var $=[],K=async t=>await(await fetch(t)).json();K("public/data/tsurusGifs.json").then(t=>{t.forEach(e=>{$.push(e)})});var Q=t=>{if(!t.currentTarget)return;let i=t.currentTarget.getAttribute("t-gif-uuid"),s=document.querySelector(`[t-uuid="${i}"]`);if(!s)return;s.classList.toggle("tsuru--overlay-open");let o=s.querySelector(".tsuru__overlay > [t-overlay-gif-image]"),n=$.find(h=>h.uuid===i),l=n?n.path:void 0;!o||!l||(o.src=l)},Z=()=>{document.querySelectorAll("[t-gif-btn]").forEach(e=>{e.addEventListener("click",Q)})};window.addEventListener("load",Z);var A=[],N=[],H=[],z=[],M=[],I,_,q=[],tt=async t=>await(await fetch(t)).json();tt("public/data/similarColorsUuids.json").then(t=>{t.forEach(e=>{q.push(e)})});var et=(t,e)=>e.length===0?t:Array.from(t).filter(s=>e.includes(s.getAttribute("t-date-year")??"")),it=(t,e)=>e.length===0?t:Array.from(t).filter(s=>e.includes(s.getAttribute("t-date-month")??"")),st=(t,e)=>e.length===0?t:Array.from(t).filter(s=>{let o=s.getAttribute("t-location")?.split("-")??[],n=o[o.length-1].trim();return e.includes(n)}),ot=(t,e)=>e.length===0?t:Array.from(t).filter(s=>{let o=s.getAttribute("t-location")??"";return e.some(n=>o.includes(n))}),nt=(t,e)=>e.length===0?t:Array.from(t).filter(s=>e.some(o=>q.find(({color:l})=>l===o)?.tsurus.includes(s.getAttribute("t-uuid")??""))),rt=t=>{let e=t.target,i=e.getAttribute("t-filter-type")||"",s=e.getAttribute("t-filter-value")||"",o=document.querySelectorAll("[t-item]");e.classList.toggle("filter--active"),i==="year"&&(A.includes(s)?A.splice(A.indexOf(s),1):A.push(s)),i==="month"&&(N.includes(s)?N.splice(N.indexOf(s),1):N.push(s)),i==="country"&&(H.includes(s)?H.splice(H.indexOf(s),1):H.push(s)),i==="color"&&(z.includes(s)?z.splice(z.indexOf(s),1):z.push(s)),i==="city"&&(M.includes(s)?M.splice(M.indexOf(s),1):M.push(s));let n=et(o,A),l=it(n,N),h=st(l,H),c=ot(h,M),u=nt(c,z);o.forEach(d=>{d.style.display="none"}),Array.from(u).forEach(d=>{d.style.display=""}),document.documentElement.scrollTo({top:0,behavior:"smooth"})},lt=()=>{document.body.classList.toggle("filter--open")},at=()=>{I=document.querySelectorAll("[t-filter-btn]"),_=document.querySelector("[t-filter-toggle-btn]"),!(!I||!_)&&(_.addEventListener("click",lt),I.forEach(t=>{t.addEventListener("click",rt)}))};window.addEventListener("load",at);var ht="1.3.4";function F(t,e,i){return Math.max(t,Math.min(e,i))}function ct(t,e,i){return(1-i)*t+i*e}function dt(t,e,i,s){return ct(t,e,1-Math.exp(-i*s))}function ut(t,e){return(t%e+e)%e}var mt=class{constructor(){r(this,"isRunning",!1);r(this,"value",0);r(this,"from",0);r(this,"to",0);r(this,"currentTime",0);r(this,"lerp");r(this,"duration");r(this,"easing");r(this,"onUpdate")}advance(t){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=t;let i=F(0,this.currentTime/this.duration,1);e=i>=1;let s=e?1:this.easing(i);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=dt(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:i,duration:s,easing:o,onStart:n,onUpdate:l}){this.from=this.value=t,this.to=e,this.lerp=i,this.duration=s,this.easing=o,this.currentTime=0,this.isRunning=!0,n?.(),this.onUpdate=l}};function pt(t,e){let i;return function(...s){let o=this;clearTimeout(i),i=setTimeout(()=>{i=void 0,t.apply(o,s)},e)}}var ft=class{constructor(t,e,{autoResize:i=!0,debounce:s=250}={}){r(this,"width",0);r(this,"height",0);r(this,"scrollHeight",0);r(this,"scrollWidth",0);r(this,"debouncedResize");r(this,"wrapperResizeObserver");r(this,"contentResizeObserver");r(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});r(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});r(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=e,i&&(this.debouncedResize=pt(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},X=class{constructor(){r(this,"events",{})}emit(t,...e){let i=this.events[t]||[];for(let s=0,o=i.length;s<o;s++)i[s]?.(...e)}on(t,e){return this.events[t]?.push(e)||(this.events[t]=[e]),()=>{this.events[t]=this.events[t]?.filter(i=>e!==i)}}off(t,e){this.events[t]=this.events[t]?.filter(i=>e!==i)}destroy(){this.events={}}},B=100/6,S={passive:!1},gt=class{constructor(t,e={wheelMultiplier:1,touchMultiplier:1}){r(this,"touchStart",{x:0,y:0});r(this,"lastDelta",{x:0,y:0});r(this,"window",{width:0,height:0});r(this,"emitter",new X);r(this,"onTouchStart",t=>{let{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});r(this,"onTouchMove",t=>{let{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t,s=-(e-this.touchStart.x)*this.options.touchMultiplier,o=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:s,y:o},this.emitter.emit("scroll",{deltaX:s,deltaY:o,event:t})});r(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});r(this,"onWheel",t=>{let{deltaX:e,deltaY:i,deltaMode:s}=t,o=s===1?B:s===2?this.window.width:1,n=s===1?B:s===2?this.window.height:1;e*=o,i*=n,e*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:i,event:t})});r(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=t,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,S),this.element.addEventListener("touchstart",this.onTouchStart,S),this.element.addEventListener("touchmove",this.onTouchMove,S),this.element.addEventListener("touchend",this.onTouchEnd,S)}on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,S),this.element.removeEventListener("touchstart",this.onTouchStart,S),this.element.removeEventListener("touchmove",this.onTouchMove,S),this.element.removeEventListener("touchend",this.onTouchEnd,S)}},Y=t=>Math.min(1,1.001-Math.pow(2,-10*t)),V=class{constructor({wrapper:t=window,content:e=document.documentElement,eventsTarget:i=t,smoothWheel:s=!0,syncTouch:o=!1,syncTouchLerp:n=.075,touchInertiaMultiplier:l=35,duration:h,easing:c,lerp:u=.1,infinite:d=!1,orientation:m="vertical",gestureOrientation:a="vertical",touchMultiplier:p=1,wheelMultiplier:f=1,autoResize:g=!0,prevent:v,virtualScroll:w,overscroll:y=!0,autoRaf:L=!1,anchors:P=!1,autoToggle:E=!1,allowNestedScroll:C=!1,__experimental__naiveDimensions:W=!1}={}){r(this,"_isScrolling",!1);r(this,"_isStopped",!1);r(this,"_isLocked",!1);r(this,"_preventNextNativeScrollEvent",!1);r(this,"_resetVelocityTimeout",null);r(this,"__rafID",null);r(this,"isTouching");r(this,"time",0);r(this,"userData",{});r(this,"lastVelocity",0);r(this,"velocity",0);r(this,"direction",0);r(this,"options");r(this,"targetScroll");r(this,"animatedScroll");r(this,"animate",new mt);r(this,"emitter",new X);r(this,"dimensions");r(this,"virtualScroll");r(this,"onScrollEnd",t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()});r(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});r(this,"onTransitionEnd",t=>{if(t.propertyName.includes("overflow")){let e=this.isHorizontal?"overflow-x":"overflow-y",i=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(i)?this.stop():this.start()}});r(this,"onClick",t=>{let i=t.composedPath().find(s=>s instanceof HTMLAnchorElement&&(s.getAttribute("href")?.startsWith("#")||s.getAttribute("href")?.startsWith("/#")||s.getAttribute("href")?.startsWith("./#")));if(i){let s=i.getAttribute("href");if(s){let o=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,n=`#${s.split("#")[1]}`;["#","/#","./#","#top","/#top","./#top"].includes(s)&&(n=0),this.scrollTo(n,o)}}});r(this,"onPointerDown",t=>{t.button===1&&this.reset()});r(this,"onVirtualScroll",t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;let{deltaX:e,deltaY:i,event:s}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:i,event:s}),s.ctrlKey||s.lenisStopPropagation)return;let o=s.type.includes("touch"),n=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";let l=e===0&&i===0;if(this.options.syncTouch&&o&&s.type==="touchstart"&&l&&!this.isStopped&&!this.isLocked){this.reset();return}let c=this.options.gestureOrientation==="vertical"&&i===0||this.options.gestureOrientation==="horizontal"&&e===0;if(l||c)return;let u=s.composedPath();u=u.slice(0,u.indexOf(this.rootElement));let d=this.options.prevent;if(u.find(v=>v instanceof HTMLElement&&(typeof d=="function"&&d?.(v)||v.hasAttribute?.("data-lenis-prevent")||o&&v.hasAttribute?.("data-lenis-prevent-touch")||n&&v.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(v,{deltaX:e,deltaY:i}))))return;if(this.isStopped||this.isLocked){s.preventDefault();return}if(!(this.options.syncTouch&&o||this.options.smoothWheel&&n)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let a=i;this.options.gestureOrientation==="both"?a=Math.abs(i)>Math.abs(e)?i:e:this.options.gestureOrientation==="horizontal"&&(a=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&i>0||this.animatedScroll===this.limit&&i<0))&&(s.lenisStopPropagation=!0),s.preventDefault();let p=o&&this.options.syncTouch,g=o&&s.type==="touchend"&&Math.abs(a)>5;g&&(a=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+a,{programmatic:!1,...p?{lerp:g?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});r(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});r(this,"raf",t=>{let e=t-(this.time||t);this.time=t,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=ht,(!t||t===document.documentElement)&&(t=window),typeof h=="number"&&typeof c!="function"?c=Y:typeof c=="function"&&typeof h!="number"&&(h=1),this.options={wrapper:t,content:e,eventsTarget:i,smoothWheel:s,syncTouch:o,syncTouchLerp:n,touchInertiaMultiplier:l,duration:h,easing:c,lerp:u,infinite:d,gestureOrientation:a,orientation:m,touchMultiplier:p,wheelMultiplier:f,autoResize:g,prevent:v,virtualScroll:w,overscroll:y,autoRaf:L,anchors:P,autoToggle:E,allowNestedScroll:C,__experimental__naiveDimensions:W},this.dimensions=new ft(t,e,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new gt(i,{touchMultiplier:p,wheelMultiplier:f}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(t,{offset:e=0,immediate:i=!1,lock:s=!1,duration:o=this.options.duration,easing:n=this.options.easing,lerp:l=this.options.lerp,onStart:h,onComplete:c,force:u=!1,programmatic:d=!0,userData:m}={}){if(!((this.isStopped||this.isLocked)&&!u)){if(typeof t=="string"&&["top","left","start"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let a;if(typeof t=="string"?a=document.querySelector(t):t instanceof HTMLElement&&t?.nodeType&&(a=t),a){if(this.options.wrapper!==window){let f=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?f.left:f.top}let p=a.getBoundingClientRect();t=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=e,t=Math.round(t),this.options.infinite){if(d){this.targetScroll=this.animatedScroll=this.scroll;let a=t-this.animatedScroll;a>this.limit/2?t=t-this.limit:a<-this.limit/2&&(t=t+this.limit)}}else t=F(0,t,this.limit);if(t===this.targetScroll){h?.(this),c?.(this);return}if(this.userData=m??{},i){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),c?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}d||(this.targetScroll=t),typeof o=="number"&&typeof n!="function"?n=Y:typeof n=="function"&&typeof o!="number"&&(o=1),this.animate.fromTo(this.animatedScroll,t,{duration:o,easing:n,lerp:l,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",h?.(this)},onUpdate:(a,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=a-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=a,this.setScroll(this.scroll),d&&(this.targetScroll=a),p||this.emit(),p&&(this.reset(),this.emit(),c?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:e,deltaY:i}){let s=Date.now(),o=t._lenis??(t._lenis={}),n,l,h,c,u,d,m,a,p=this.options.gestureOrientation;if(s-(o.time??0)>2e3){o.time=Date.now();let E=window.getComputedStyle(t);o.computedStyle=E;let C=E.overflowX,W=E.overflowY;if(n=["auto","overlay","scroll"].includes(C),l=["auto","overlay","scroll"].includes(W),o.hasOverflowX=n,o.hasOverflowY=l,!n&&!l||p==="vertical"&&!l||p==="horizontal"&&!n)return!1;u=t.scrollWidth,d=t.scrollHeight,m=t.clientWidth,a=t.clientHeight,h=u>m,c=d>a,o.isScrollableX=h,o.isScrollableY=c,o.scrollWidth=u,o.scrollHeight=d,o.clientWidth=m,o.clientHeight=a}else h=o.isScrollableX,c=o.isScrollableY,n=o.hasOverflowX,l=o.hasOverflowY,u=o.scrollWidth,d=o.scrollHeight,m=o.clientWidth,a=o.clientHeight;if(!n&&!l||!h&&!c||p==="vertical"&&(!l||!c)||p==="horizontal"&&(!n||!h))return!1;let f;if(p==="horizontal")f="x";else if(p==="vertical")f="y";else{let E=e!==0,C=i!==0;E&&n&&h&&(f="x"),C&&l&&c&&(f="y")}if(!f)return!1;let g,v,w,y,L;if(f==="x")g=t.scrollLeft,v=u-m,w=e,y=n,L=h;else if(f==="y")g=t.scrollTop,v=d-a,w=i,y=l,L=c;else return!1;return(w>0?g<v:g>0)&&y&&L}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){let t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?ut(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};var vt=new V,b=null,T=!1,j=()=>{document.querySelectorAll(".tsuru--selected").forEach(e=>{e.classList.remove("tsuru--selected")})},wt=()=>{if(T||b===null)return;T=!0;let t=document.querySelector(`[il-uuid="${b}"]`);if(!t)return;let e=t.getAttribute("il-aspect-ratio"),i=t.getAttribute("il-fullsize"),s=document.querySelector(".modal__image");if(!e||!i||!s)return;document.documentElement.style.setProperty("--modal-img-src",`url(/${i})`);let o=t.getBoundingClientRect(),n={top:o.top,left:o.left,width:o.width,height:o.height},l=document.querySelector(".modal");if(!l)return;let h=500;l.animate([{backgroundColor:"rgba(0, 0, 0, 1)"},{backgroundColor:"rgba(0, 0, 0, 0)"}],{duration:250,delay:h,easing:"ease-out"}).finished.then(()=>{document.body.classList.remove("modal--open"),b=null,j(),T=!1});let c=e.split("/"),u=Number(c[0])/Number(c[1]),d=U(u),m={left:(window.innerWidth-d.width)/2,top:(window.innerHeight-d.height)/2},a=t.getBoundingClientRect();s.style.backgroundSize="cover";let p=s.animate([{left:`${m.left}px`,top:`${m.top}px`,width:`${d.width}px`,height:`${d.height}px`},{left:`${a.left}px`,top:`${a.top}px`,width:`${a.width}px`,height:`${a.height}px`}],{duration:h,easing:"ease-in-out",fill:"forwards"});p.finished.then(()=>{p.commitStyles(),p.cancel(),s.style.backgroundSize=""})},U=t=>{let e=window.innerHeight<window.innerWidth,i=window.innerHeight,s=window.innerWidth,o=e?s:i*t,n=e?s/t:i;return o>s&&(o=s,n=s/t),n>i&&(n=i,o=i*t),{width:o,height:n}},yt=t=>{if(t.target!==t.currentTarget||b!==null||T)return;let i=document.documentElement.clientWidth,s=window.innerWidth-document.documentElement.clientWidth;t.preventDefault(),j();let o=document.querySelector(".modal__image"),n=t.target;if(!n)return;let l=n.getAttribute("t-uuid")||"";b=l;let h=document.querySelector(`[il-uuid="${l}"]`);if(!h||!o)return;let c=h.getAttribute("il-fullsize"),u=h.getAttribute("il-aspect-ratio");if(!c||!u){b=null;return}T=!0,document.documentElement.style.setProperty("--modal-img-src",`url(/${c})`),document.documentElement.style.setProperty("--modal-img-aspect-ratio",u),document.body.classList.add("modal--open"),n.classList.add("tsuru--selected");let d=document.documentElement.clientWidth;i!==d?document.documentElement.style.setProperty("--scroll-width",`${s}px`):document.documentElement.style.setProperty("--scroll-width","0px");let m=document.querySelector(".modal");if(!m)return;let a=m.animate([{backgroundColor:"rgba(0, 0, 0, 0)"},{backgroundColor:"rgba(0, 0, 0, 1)"}],{duration:250,easing:"ease-out",fill:"forwards"});a.finished.then(()=>{a.commitStyles(),a.cancel()});let p=u.split("/"),f=Number(p[0])/Number(p[1]),g=U(f),v={left:(window.innerWidth-g.width)/2,top:(window.innerHeight-g.height)/2},w=h.getBoundingClientRect(),y=o.animate([{height:w.height+"px",width:w.width+"px",left:w.left+"px",top:w.top+"px"},{height:g.height+"px",left:v.left+"px",top:v.top+"px",width:g.width+"px"}],{duration:500,easing:"ease-in-out",fill:"forwards"});y.finished.then(()=>{y.commitStyles(),y.cancel(),o.style.backgroundSize="contain",o.style.left="0px",o.style.top="0px",o.style.width="100dvw",o.style.height="100dvh",T=!1})},St=t=>{let e=Math.round(t.clientX),i=Math.round(t.clientY);document.documentElement.style.setProperty("--mouse-x",`${e}px`),document.documentElement.style.setProperty("--mouse-y",`${i}px`)},Et=()=>{document.addEventListener("mousemove",St),new D().init("[img-loading]",{container:document.body});let e=document.querySelectorAll("[t-item]"),i=document.querySelector(".modal");i&&i.addEventListener("click",wt),e.forEach(n=>{n.addEventListener("click",yt)}),new D().init("[img-loading-me]",{container:document.body});function o(n){vt.raf(n),requestAnimationFrame(o)}requestAnimationFrame(o)};window.addEventListener("load",Et);
//# sourceMappingURL=script.js.map
