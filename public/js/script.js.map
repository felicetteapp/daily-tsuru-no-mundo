{
  "version": 3,
  "sources": ["../../node_modules/@felicetteapp/img-loading/dist/bundle.esm.js", "../../src/js/gifs.ts", "../../src/js/filters.ts", "../../node_modules/lenis/package.json", "../../node_modules/lenis/packages/core/src/maths.ts", "../../node_modules/lenis/packages/core/src/animate.ts", "../../node_modules/lenis/packages/core/src/debounce.ts", "../../node_modules/lenis/packages/core/src/dimensions.ts", "../../node_modules/lenis/packages/core/src/emitter.ts", "../../node_modules/lenis/packages/core/src/virtual-scroll.ts", "../../node_modules/lenis/packages/core/src/lenis.ts", "../../src/js/script.ts"],
  "sourcesContent": ["var t={d:(i,e)=>{for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},i={};t.d(i,{k:()=>s,z:()=>e});class e{get isThumbnailLoaded(){return this.thumbnailLoaded}get isImgLoaded(){return this.imgLoaded}get isThumbnailLoading(){return this.thumbnailLoading}get isImgLoading(){return this.imgLoading}constructor({fullsize:t,thumbnail:i,onLoaded:e,onError:s,parent:a,imgWidth:r,imgHeight:n,node:o,aspectRatio:h,mainColor:l}){this.imgEl=new Image,this.thumbnailEl=new Image,this.thumbnail=\"\",this.loaded=!1,this.error=!1,this.imgWidth=0,this.imgHeight=0,this.mainColor=\"\",this.aspectRatio=\"1/1\",this.thumbnailLoaded=!1,this.imgLoaded=!1,this.thumbnailLoading=!1,this.imgLoading=!1,this.fullsize=t,this.thumbnail=i,this.onLoaded=e,this.onError=s,this.parent=a,this.imgWidth=r,this.imgHeight=n,this.node=o,this.aspectRatio=h||\"1/1\",this.mainColor=l||\"\",this.imgEl=new Image,this.thumbnailEl=new Image,this.thumbnailEl.width=this.imgWidth,this.thumbnailEl.height=this.imgHeight,this.imgEl.width=this.imgWidth,this.imgEl.height=this.imgHeight,this.node.style.cssText=\"\",this.node.style.setProperty(`--${this.parent.withPrefix(\"main-color\")}`,this.mainColor),this.node.style.setProperty(`--${this.parent.withPrefix(\"aspect-ratio\")}`,this.aspectRatio),this.addClass(\"thumbnail\",this.thumbnailEl),this.addClass(\"img\",this.imgEl),this.addClass(\"item\"),this.addClass(\"item--initialized\"),this.node.innerHTML=\"\",this.imgEl.onload=()=>{var t;this.addClass(\"item--img-loaded\"),this.removeClass(\"item--img-loading\"),this.imgLoaded=!0,null===(t=this.onLoaded)||void 0===t||t.call(this,this)},this.imgEl.onerror=()=>{var t;this.addClass(\"item--img-error\"),this.removeClass(\"item--img-loading\"),this.error=!0,null===(t=this.onError)||void 0===t||t.call(this,this)},this.thumbnailEl.onload=()=>{this.addClass(\"item--thumbnail-loaded\"),this.removeClass(\"item--thumbnail-loading\"),this.addClass(\"item--img-loading\"),this.thumbnailLoaded=!0,this.imgEl.src=this.fullsize},this.parent.intersectionObserver?this.parent.intersectionObserver.observe(this.node):this.load()}withPrefix(t){return this.parent.withPrefix(t)}addClasses(t,i=this.node){t.forEach((t=>{i.classList.add(this.withPrefix(t))}))}removeClasses(t,i=this.node){t.forEach((t=>{i.classList.remove(this.withPrefix(t))}))}addClass(t,i=this.node){this.addClasses([t],i)}removeClass(t,i=this.node){this.removeClasses([t],i)}load(){this.addClass(\"item--thumbnail-loading\"),this.thumbnailEl.src=this.thumbnail,this.node.appendChild(this.imgEl),this.node.appendChild(this.thumbnailEl),this.parent.intersectionObserver.unobserve(this.node)}destroy(){this.parent.intersectionObserver&&this.parent.intersectionObserver.unobserve(this.node),this.node.remove()}static elementHasCorrectData(t,i){const s=e.propsToCheck.every((e=>t.hasAttribute(i(e))));if(!s){const s=e.propsToCheck.filter((e=>!t.hasAttribute(i(e)))).map((t=>i(t)));console.error(`Element is missing the following attributes: ${s.join(\", \")}`,t)}return s}static extractDataFromAttributes(t,i){return e.elementHasCorrectData(t,i)?{thumbnail:t.getAttribute(i(\"thumbnail\")),fullsize:t.getAttribute(i(\"fullsize\")),imgWidth:parseFloat(t.getAttribute(i(\"width\"))),imgHeight:parseFloat(t.getAttribute(i(\"height\"))),aspectRatio:t.getAttribute(i(\"aspect-ratio\"))||\"1/1\",mainColor:t.getAttribute(i(\"main-color\"))||\"\"}:null}static fromNode(t,i){const s=e.extractDataFromAttributes(t,i.withPrefix.bind(i));return s?new e({...s,parent:i,node:t}):null}}e.propsToCheck=[\"thumbnail\",\"fullsize\"];class s{constructor(){this.elements=[],this.items=[],this.imagesContainer=null,this.prefix=\"il\",this.intersectionObserver=null}withPrefix(t){return`${this.prefix}-${t}`}getElements(t){return\"string\"==typeof t?document.querySelectorAll(t):t instanceof HTMLElement||t instanceof Element?document.querySelectorAll(t.tagName):t instanceof NodeList?t:t instanceof HTMLCollection?document.querySelectorAll(Array.from(t).map((t=>t.tagName)).join(\",\")):Array.isArray(t)?document.querySelectorAll(t.map((t=>t.tagName)).join(\",\")):t instanceof Object&&\"length\"in t?document.querySelectorAll(Array.from(t).map((t=>t.tagName)).join(\",\")):document.querySelectorAll(\"\")}getHtmlElementFromNode(t){this.elements=Array.from(t)}getItemsFromElements(){this.items=this.elements.map((t=>e.fromNode(t,this))).filter(Boolean)}init(t,i={}){const e=Object.assign({prefix:\"il\"},i);this.prefix=e.prefix,this.imagesContainer=e.container||null,this.imagesContainer&&(this.intersectionObserver=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const i=this.items.find((i=>i.node===t.target));i&&(i.isImgLoaded&&i.isThumbnailLoaded||i.load())}}),{root:this.imagesContainer})}))),this.getHtmlElementFromNode(this.getElements(t)),this.getItemsFromElements()}}var a=i.k,r=i.z;export{a as ImgLoading,r as ImgLoadingItem};", "interface TsuruData {\n  path: string;\n  uuid: string;\n}\n\nconst tsurusGifs: TsuruData[] = [];\n\nconst fetchGifsJsonData = async (url: string): Promise<TsuruData[]> => {\n  const response = await fetch(url);\n  const data = await response.json();\n\n  return data;\n};\n\nfetchGifsJsonData(\"public/data/tsurusGifs.json\").then((data) => {\n  data.forEach((color) => {\n    tsurusGifs.push(color);\n  });\n});\n\nconst handleBtnClick = (event: MouseEvent) => {\n  if (!event.currentTarget) {\n    return;\n  }\n\n  const targetElement = event.currentTarget as HTMLButtonElement;\n  const gifUuid = targetElement.getAttribute(\"t-gif-uuid\");\n\n  const tsuruEl = document.querySelector(`[t-uuid=\"${gifUuid}\"]`);\n\n  if (!tsuruEl) {\n    return;\n  }\n\n  tsuruEl.classList.toggle(\"tsuru--overlay-open\");\n\n  const tsuruGifEl = tsuruEl.querySelector<HTMLImageElement>(\n    \".tsuru__overlay > [t-overlay-gif-image]\"\n  );\n\n  const foundTsuru = tsurusGifs.find((g) => g.uuid === gifUuid);\n  const thisTsuruGifPath = foundTsuru ? foundTsuru.path : undefined;\n\n  if (!tsuruGifEl || !thisTsuruGifPath) {\n    return;\n  }\n  tsuruGifEl.src = thisTsuruGifPath;\n};\n\nconst onLoadGifsScript = () => {\n  const gifsBtns = document.querySelectorAll<HTMLButtonElement>(\"[t-gif-btn]\");\n\n  gifsBtns.forEach((btn) => {\n    btn.addEventListener(\"click\", handleBtnClick);\n  });\n};\n\nwindow.addEventListener(\"load\", onLoadGifsScript);\n", "const filteredYears: string[] = [];\nconst filteredMonths: string[] = [];\nconst filteredCountries: string[] = [];\nconst filteredColors: string[] = [];\nconst filteredCities: string[] = [];\nlet filtersButton, filterToggleButton;\n\ninterface TsuruColorData {\n  color: `rgb(${number}, ${number}, ${number})`;\n  average: `rgb(${number}, ${number}, ${number})`;\n  tsurus: string[];\n}\nconst tsurusGroupedBySimilarColors: TsuruColorData[] = [];\n\nconst fetchJsonData = async (url: string) => {\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n};\n\nfetchJsonData(\"public/data/similarColorsUuids.json\").then((data) => {\n  data.forEach((color: TsuruColorData) => {\n    tsurusGroupedBySimilarColors.push(color);\n  });\n});\n\nconst filterNodesByYears = (nodes: Iterable<HTMLElement>, years: string[]) => {\n  if (years.length === 0) {\n    return nodes;\n  }\n  const filteredNodes = Array.from(nodes).filter((node) => {\n    return years.includes(node.getAttribute(\"t-date-year\") ?? \"\");\n  });\n  return filteredNodes;\n};\n\nconst filterNodesByMonths = (\n  nodes: Iterable<HTMLElement>,\n  months: string[]\n) => {\n  if (months.length === 0) {\n    return nodes;\n  }\n  const filteredNodes = Array.from(nodes).filter((node) => {\n    return months.includes(node.getAttribute(\"t-date-month\") ?? \"\");\n  });\n  return filteredNodes;\n};\n\nconst filterNodesByCountries = (\n  nodes: Iterable<HTMLElement>,\n  countries: string[]\n) => {\n  if (countries.length === 0) {\n    return nodes;\n  }\n  const filteredNodes = Array.from(nodes).filter((node) => {\n    const splitedLocation = node.getAttribute(\"t-location\")?.split(\"-\") ?? [];\n    const thisNodeCountry = splitedLocation[splitedLocation.length - 1].trim();\n    return countries.includes(thisNodeCountry);\n  });\n  return filteredNodes;\n};\n\nconst filterNodesByCities = (\n  nodes: Iterable<HTMLElement>,\n  cities: string[]\n) => {\n  if (cities.length === 0) {\n    return nodes;\n  }\n  const filteredNodes = Array.from(nodes).filter((node) => {\n    const location = node.getAttribute(\"t-location\") ?? \"\";\n\n    return cities.some((city) => location.includes(city));\n  });\n  return filteredNodes;\n};\n\nconst filterNodesByColors = (\n  nodes: Iterable<HTMLElement>,\n  colors: string[]\n) => {\n  if (colors.length === 0) {\n    return nodes;\n  }\n\n  const filteredNodes = Array.from(nodes).filter((node) => {\n    return colors.some((color) => {\n      const thisColorData = tsurusGroupedBySimilarColors.find(\n        ({ color: iColor }) => iColor === color\n      );\n\n      return thisColorData?.tsurus.includes(node.getAttribute(\"t-uuid\") ?? \"\");\n    });\n  });\n  return filteredNodes;\n};\n\nconst handleFilterButtonClick = (event: MouseEvent) => {\n  const targetElement = event.target as HTMLElement;\n  const type: string = targetElement.getAttribute(\"t-filter-type\") || \"\";\n  const value: string = targetElement.getAttribute(\"t-filter-value\") || \"\";\n  const allTsurus = document.querySelectorAll<HTMLElement>(\"[t-item]\");\n\n  targetElement.classList.toggle(\"filter--active\");\n\n  if (type === \"year\") {\n    filteredYears.includes(value)\n      ? filteredYears.splice(filteredYears.indexOf(value), 1)\n      : filteredYears.push(value);\n  }\n\n  if (type === \"month\") {\n    filteredMonths.includes(value)\n      ? filteredMonths.splice(filteredMonths.indexOf(value), 1)\n      : filteredMonths.push(value);\n  }\n\n  if (type === \"country\") {\n    filteredCountries.includes(value)\n      ? filteredCountries.splice(filteredCountries.indexOf(value), 1)\n      : filteredCountries.push(value);\n  }\n\n  if (type === \"color\") {\n    filteredColors.includes(value)\n      ? filteredColors.splice(filteredColors.indexOf(value), 1)\n      : filteredColors.push(value);\n  }\n\n  if (type === \"city\") {\n    filteredCities.includes(value)\n      ? filteredCities.splice(filteredCities.indexOf(value), 1)\n      : filteredCities.push(value);\n  }\n\n  const filteredByYears = filterNodesByYears(allTsurus, filteredYears);\n  const filteredByMonths = filterNodesByMonths(filteredByYears, filteredMonths);\n  const filteredByCountries = filterNodesByCountries(\n    filteredByMonths,\n    filteredCountries\n  );\n\n  const filteredByCities = filterNodesByCities(\n    filteredByCountries,\n    filteredCities\n  );\n  const filteredByColors = filterNodesByColors(\n    filteredByCities,\n    filteredColors\n  );\n\n  allTsurus.forEach((tsuru) => {\n    tsuru.style.display = \"none\";\n  });\n\n  Array.from(filteredByColors).forEach((tsuru) => {\n    tsuru.style.display = \"\";\n  });\n\n  document.documentElement.scrollTo({\n    top: 0,\n    behavior: \"smooth\",\n  });\n};\n\nconst handleFilterToggle = () => {\n  document.body.classList.toggle(\"filter--open\");\n};\n\nconst handleFiltersOnLoad = () => {\n  filtersButton =\n    document.querySelectorAll<HTMLButtonElement>(\"[t-filter-btn]\");\n  filterToggleButton = document.querySelector<HTMLButtonElement>(\n    \"[t-filter-toggle-btn]\"\n  );\n\n  if (!filtersButton || !filterToggleButton) {\n    return;\n  }\n\n  filterToggleButton.addEventListener(\"click\", handleFilterToggle);\n\n  filtersButton.forEach((button) => {\n    button.addEventListener(\"click\", handleFilterButtonClick);\n  });\n};\nwindow.addEventListener(\"load\", handleFiltersOnLoad);\n", "{\n  \"name\": \"lenis\",\n  \"version\": \"1.3.16\",\n  \"description\": \"How smooth scroll should be\",\n  \"type\": \"module\",\n  \"sideEffects\": false,\n  \"author\": \"darkroom.engineering\",\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/darkroomengineering/lenis.git\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/darkroomengineering/lenis/issues\"\n  },\n  \"homepage\": \"https://github.com/darkroomengineering/lenis\",\n  \"funding\": {\n    \"type\": \"github\",\n    \"url\": \"https://github.com/sponsors/darkroomengineering\"\n  },\n  \"keywords\": [\n    \"scroll\",\n    \"smooth\",\n    \"lenis\",\n    \"react\",\n    \"vue\"\n  ],\n  \"scripts\": {\n    \"build\": \"pnpm build:core && pnpm build:all\",\n    \"build:core\": \"tsup --config tsup.core.ts\",\n    \"build:all\": \"tsup\",\n    \"dev\": \"pnpm run -w --parallel /^dev:.*/\",\n    \"dev:build\": \"tsup --watch\",\n    \"dev:playground\": \"pnpm --filter playground dev\",\n    \"dev:nuxt\": \"pnpm --filter playground-nuxt dev\",\n    \"readme\": \"node ./scripts/update-readme.js\",\n    \"version:framer\": \"npm version prerelease --preid framer --force --no-git-tag-version\",\n    \"version:dev\": \"npm version prerelease --preid dev --force --no-git-tag-version\",\n    \"version:patch\": \"npm version patch --force --no-git-tag-version\",\n    \"version:minor\": \"npm version minor --force --no-git-tag-version\",\n    \"version:major\": \"npm version major --force --no-git-tag-version\",\n    \"postversion\": \"pnpm build && pnpm readme\",\n    \"publish:dev\": \"npm publish --tag dev\",\n    \"publish:framer\": \"npm publish --tag framer\",\n    \"publish:main\": \"npm publish\"\n  },\n  \"files\": [\n    \"dist\"\n  ],\n  \"devDependencies\": {\n    \"terser\": \"^5.37.0\",\n    \"tsup\": \"^8.3.5\",\n    \"typescript\": \"^5.7.3\"\n  },\n  \"peerDependencies\": {\n    \"react\": \">=17.0.0\",\n    \"vue\": \">=3.0.0\",\n    \"@nuxt/kit\": \">=3.0.0\"\n  },\n  \"peerDependenciesMeta\": {\n    \"react\": {\n      \"optional\": true\n    },\n    \"vue\": {\n      \"optional\": true\n    },\n    \"@nuxt/kit\": {\n      \"optional\": true\n    }\n  },\n  \"unpkg\": \"./dist/lenis.mjs\",\n  \"main\": \"./dist/lenis.mjs\",\n  \"module\": \"./dist/lenis.mjs\",\n  \"types\": \"./dist/lenis.d.ts\",\n  \"exports\": {\n    \".\": {\n      \"types\": \"./dist/lenis.d.ts\",\n      \"default\": \"./dist/lenis.mjs\"\n    },\n    \"./react\": {\n      \"types\": \"./dist/lenis-react.d.ts\",\n      \"default\": \"./dist/lenis-react.mjs\"\n    },\n    \"./snap\": {\n      \"types\": \"./dist/lenis-snap.d.ts\",\n      \"default\": \"./dist/lenis-snap.mjs\"\n    },\n    \"./vue\": {\n      \"types\": \"./dist/lenis-vue.d.ts\",\n      \"default\": \"./dist/lenis-vue.mjs\"\n    },\n    \"./nuxt\": {\n      \"default\": \"./dist/lenis-vue-nuxt.mjs\"\n    },\n    \"./nuxt/runtime/*\": {\n      \"default\": \"./dist/nuxt/runtime/*.mjs\"\n    },\n    \"./dist/*\": \"./dist/*\"\n  }\n}\n", "/**\n * Clamp a value between a minimum and maximum value\n *\n * @param min Minimum value\n * @param input Value to clamp\n * @param max Maximum value\n * @returns Clamped value\n */\nexport function clamp(min: number, input: number, max: number) {\n  return Math.max(min, Math.min(input, max))\n}\n\n/**\n * Truncate a floating-point number to a specified number of decimal places\n *\n * @param value Value to truncate\n * @param decimals Number of decimal places to truncate to\n * @returns Truncated value\n */\nexport function truncate(value: number, decimals = 0) {\n  return parseFloat(value.toFixed(decimals))\n}\n\n/**\n *  Linearly interpolate between two values using an amount (0 <= t <= 1)\n *\n * @param x First value\n * @param y Second value\n * @param t Amount to interpolate (0 <= t <= 1)\n * @returns Interpolated value\n */\nexport function lerp(x: number, y: number, t: number) {\n  return (1 - t) * x + t * y\n}\n\n/**\n * Damp a value over time using a damping factor\n * {@link http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/}\n *\n * @param x Initial value\n * @param y Target value\n * @param lambda Damping factor\n * @param dt Time elapsed since the last update\n * @returns Damped value\n */\nexport function damp(x: number, y: number, lambda: number, deltaTime: number) {\n  return lerp(x, y, 1 - Math.exp(-lambda * deltaTime))\n}\n\n/**\n * Calculate the modulo of the dividend and divisor while keeping the result within the same sign as the divisor\n * {@link https://anguscroll.com/just/just-modulo}\n *\n * @param n Dividend\n * @param d Divisor\n * @returns Modulo\n */\nexport function modulo(n: number, d: number) {\n  return ((n % d) + d) % d\n}\n", "import { clamp, damp } from './maths'\r\nimport type { EasingFunction, FromToOptions, OnUpdateCallback } from './types'\r\n\r\n/**\r\n * Animate class to handle value animations with lerping or easing\r\n *\r\n * @example\r\n * const animate = new Animate()\r\n * animate.fromTo(0, 100, { duration: 1, easing: (t) => t })\r\n * animate.advance(0.5) // 50\r\n */\r\nexport class Animate {\r\n  isRunning = false\r\n  value = 0\r\n  from = 0\r\n  to = 0\r\n  currentTime = 0\r\n\r\n  // These are instanciated in the fromTo method\r\n  lerp?: number\r\n  duration?: number\r\n  easing?: EasingFunction\r\n  onUpdate?: OnUpdateCallback\r\n\r\n  /**\r\n   * Advance the animation by the given delta time\r\n   *\r\n   * @param deltaTime - The time in seconds to advance the animation\r\n   */\r\n  advance(deltaTime: number) {\r\n    if (!this.isRunning) return\r\n\r\n    let completed = false\r\n\r\n    if (this.duration && this.easing) {\r\n      this.currentTime += deltaTime\r\n      const linearProgress = clamp(0, this.currentTime / this.duration, 1)\r\n\r\n      completed = linearProgress >= 1\r\n      const easedProgress = completed ? 1 : this.easing(linearProgress)\r\n      this.value = this.from + (this.to - this.from) * easedProgress\r\n    } else if (this.lerp) {\r\n      this.value = damp(this.value, this.to, this.lerp * 60, deltaTime)\r\n      if (Math.round(this.value) === this.to) {\r\n        this.value = this.to\r\n        completed = true\r\n      }\r\n    } else {\r\n      // If no easing or lerp, just jump to the end value\r\n      this.value = this.to\r\n      completed = true\r\n    }\r\n\r\n    if (completed) {\r\n      this.stop()\r\n    }\r\n\r\n    // Call the onUpdate callback with the current value and completed status\r\n    this.onUpdate?.(this.value, completed)\r\n  }\r\n\r\n  /** Stop the animation */\r\n  stop() {\r\n    this.isRunning = false\r\n  }\r\n\r\n  /**\r\n   * Set up the animation from a starting value to an ending value\r\n   * with optional parameters for lerping, duration, easing, and onUpdate callback\r\n   *\r\n   * @param from - The starting value\r\n   * @param to - The ending value\r\n   * @param options - Options for the animation\r\n   */\r\n  fromTo(\r\n    from: number,\r\n    to: number,\r\n    { lerp, duration, easing, onStart, onUpdate }: FromToOptions\r\n  ) {\r\n    this.from = this.value = from\r\n    this.to = to\r\n    this.lerp = lerp\r\n    this.duration = duration\r\n    this.easing = easing\r\n    this.currentTime = 0\r\n    this.isRunning = true\r\n\r\n    onStart?.()\r\n    this.onUpdate = onUpdate\r\n  }\r\n}\r\n", "export function debounce<CB extends (...args: any[]) => void>(\n  callback: CB,\n  delay: number\n) {\n  let timer: number | undefined\n  return function <T>(this: T, ...args: Parameters<typeof callback>) {\n    let context = this\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n      timer = undefined\n      callback.apply(context, args)\n    }, delay)\n  }\n}\n", "import { debounce } from './debounce'\n\n/**\n * Dimensions class to handle the size of the content and wrapper\n *\n * @example\n * const dimensions = new Dimensions(wrapper, content)\n * dimensions.on('resize', (e) => {\n *   console.log(e.width, e.height)\n * })\n */\nexport class Dimensions {\n  width = 0\n  height = 0\n  scrollHeight = 0\n  scrollWidth = 0\n\n  // These are instanciated in the constructor as they need information from the options\n  private debouncedResize?: (...args: unknown[]) => void\n  private wrapperResizeObserver?: ResizeObserver\n  private contentResizeObserver?: ResizeObserver\n\n  constructor(\n    private wrapper: HTMLElement | Window | Element,\n    private content: HTMLElement | Element,\n    { autoResize = true, debounce: debounceValue = 250 } = {}\n  ) {\n    if (autoResize) {\n      this.debouncedResize = debounce(this.resize, debounceValue)\n\n      if (this.wrapper instanceof Window) {\n        window.addEventListener('resize', this.debouncedResize, false)\n      } else {\n        this.wrapperResizeObserver = new ResizeObserver(this.debouncedResize)\n        this.wrapperResizeObserver.observe(this.wrapper)\n      }\n\n      this.contentResizeObserver = new ResizeObserver(this.debouncedResize)\n      this.contentResizeObserver.observe(this.content)\n    }\n\n    this.resize()\n  }\n\n  destroy() {\n    this.wrapperResizeObserver?.disconnect()\n    this.contentResizeObserver?.disconnect()\n\n    if (this.wrapper === window && this.debouncedResize) {\n      window.removeEventListener('resize', this.debouncedResize, false)\n    }\n  }\n\n  resize = () => {\n    this.onWrapperResize()\n    this.onContentResize()\n  }\n\n  onWrapperResize = () => {\n    if (this.wrapper instanceof Window) {\n      this.width = window.innerWidth\n      this.height = window.innerHeight\n    } else {\n      this.width = this.wrapper.clientWidth\n      this.height = this.wrapper.clientHeight\n    }\n  }\n\n  onContentResize = () => {\n    if (this.wrapper instanceof Window) {\n      this.scrollHeight = this.content.scrollHeight\n      this.scrollWidth = this.content.scrollWidth\n    } else {\n      this.scrollHeight = this.wrapper.scrollHeight\n      this.scrollWidth = this.wrapper.scrollWidth\n    }\n  }\n\n  get limit() {\n    return {\n      x: this.scrollWidth - this.width,\n      y: this.scrollHeight - this.height,\n    }\n  }\n}\n", "/**\n * Emitter class to handle events\n * @example\n * const emitter = new Emitter()\n * emitter.on('event', (data) => {\n *   console.log(data)\n * })\n * emitter.emit('event', 'data')\n */\nexport class Emitter {\n  private events: Record<\n    string,\n    Array<(...args: unknown[]) => void> | undefined\n  > = {}\n\n  /**\n   * Emit an event with the given data\n   * @param event Event name\n   * @param args Data to pass to the event handlers\n   */\n  emit(event: string, ...args: unknown[]) {\n    let callbacks = this.events[event] || []\n    for (let i = 0, length = callbacks.length; i < length; i++) {\n      callbacks[i]?.(...args)\n    }\n  }\n\n  /**\n   * Add a callback to the event\n   * @param event Event name\n   * @param cb Callback function\n   * @returns Unsubscribe function\n   */\n  on<CB extends (...args: any[]) => void>(event: string, cb: CB) {\n    // Add the callback to the event's callback list, or create a new list with the callback\n    this.events[event]?.push(cb) || (this.events[event] = [cb])\n\n    // Return an unsubscribe function\n    return () => {\n      this.events[event] = this.events[event]?.filter((i) => cb !== i)\n    }\n  }\n\n  /**\n   * Remove a callback from the event\n   * @param event Event name\n   * @param callback Callback function\n   */\n  off<CB extends (...args: any[]) => void>(event: string, callback: CB) {\n    this.events[event] = this.events[event]?.filter((i) => callback !== i)\n  }\n\n  /**\n   * Remove all event listeners and clean up\n   */\n  destroy() {\n    this.events = {}\n  }\n}\n", "import { Emitter } from './emitter'\r\nimport type { VirtualScrollCallback } from './types'\r\n\r\nconst LINE_HEIGHT = 100 / 6\r\nconst listenerOptions: AddEventListenerOptions = { passive: false }\r\n\r\nexport class VirtualScroll {\r\n  touchStart = {\r\n    x: 0,\r\n    y: 0,\r\n  }\r\n  lastDelta = {\r\n    x: 0,\r\n    y: 0,\r\n  }\r\n  window = {\r\n    width: 0,\r\n    height: 0,\r\n  }\r\n  private emitter = new Emitter()\r\n\r\n  constructor(\r\n    private element: HTMLElement,\r\n    private options = { wheelMultiplier: 1, touchMultiplier: 1 }\r\n  ) {\r\n    window.addEventListener('resize', this.onWindowResize, false)\r\n    this.onWindowResize()\r\n\r\n    this.element.addEventListener('wheel', this.onWheel, listenerOptions)\r\n    this.element.addEventListener(\r\n      'touchstart',\r\n      this.onTouchStart,\r\n      listenerOptions\r\n    )\r\n    this.element.addEventListener(\r\n      'touchmove',\r\n      this.onTouchMove,\r\n      listenerOptions\r\n    )\r\n    this.element.addEventListener('touchend', this.onTouchEnd, listenerOptions)\r\n  }\r\n\r\n  /**\r\n   * Add an event listener for the given event and callback\r\n   *\r\n   * @param event Event name\r\n   * @param callback Callback function\r\n   */\r\n  on(event: string, callback: VirtualScrollCallback) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  /** Remove all event listeners and clean up */\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    window.removeEventListener('resize', this.onWindowResize, false)\r\n\r\n    this.element.removeEventListener('wheel', this.onWheel, listenerOptions)\r\n    this.element.removeEventListener(\r\n      'touchstart',\r\n      this.onTouchStart,\r\n      listenerOptions\r\n    )\r\n    this.element.removeEventListener(\r\n      'touchmove',\r\n      this.onTouchMove,\r\n      listenerOptions\r\n    )\r\n    this.element.removeEventListener(\r\n      'touchend',\r\n      this.onTouchEnd,\r\n      listenerOptions\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Event handler for 'touchstart' event\r\n   *\r\n   * @param event Touch event\r\n   */\r\n  onTouchStart = (event: TouchEvent) => {\r\n    // @ts-expect-error - event.targetTouches is not defined\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: 0,\r\n      y: 0,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX: 0,\r\n      deltaY: 0,\r\n      event,\r\n    })\r\n  }\r\n\r\n  /** Event handler for 'touchmove' event */\r\n  onTouchMove = (event: TouchEvent) => {\r\n    // @ts-expect-error - event.targetTouches is not defined\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    const deltaX = -(clientX - this.touchStart.x) * this.options.touchMultiplier\r\n    const deltaY = -(clientY - this.touchStart.y) * this.options.touchMultiplier\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: deltaX,\r\n      y: deltaY,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX,\r\n      deltaY,\r\n      event,\r\n    })\r\n  }\r\n\r\n  onTouchEnd = (event: TouchEvent) => {\r\n    this.emitter.emit('scroll', {\r\n      deltaX: this.lastDelta.x,\r\n      deltaY: this.lastDelta.y,\r\n      event,\r\n    })\r\n  }\r\n\r\n  /** Event handler for 'wheel' event */\r\n  onWheel = (event: WheelEvent) => {\r\n    let { deltaX, deltaY, deltaMode } = event\r\n\r\n    const multiplierX =\r\n      deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.width : 1\r\n    const multiplierY =\r\n      deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.height : 1\r\n\r\n    deltaX *= multiplierX\r\n    deltaY *= multiplierY\r\n\r\n    deltaX *= this.options.wheelMultiplier\r\n    deltaY *= this.options.wheelMultiplier\r\n\r\n    this.emitter.emit('scroll', { deltaX, deltaY, event })\r\n  }\r\n\r\n  onWindowResize = () => {\r\n    this.window = {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    }\r\n  }\r\n}\r\n", "import { version } from '../../../package.json'\nimport { Animate } from './animate'\nimport { Dimensions } from './dimensions'\nimport { Emitter } from './emitter'\nimport { clamp, modulo } from './maths'\nimport type {\n  LenisEvent,\n  LenisOptions,\n  ScrollCallback,\n  Scrolling,\n  ScrollToOptions,\n  UserData,\n  VirtualScrollCallback,\n  VirtualScrollData,\n} from './types'\nimport { VirtualScroll } from './virtual-scroll'\n\n// Technical explanation\n// - listen to 'wheel' events\n// - prevent 'wheel' event to prevent scroll\n// - normalize wheel delta\n// - add delta to targetScroll\n// - animate scroll to targetScroll (smooth context)\n// - if animation is not running, listen to 'scroll' events (native context)\n\ntype OptionalPick<T, F extends keyof T> = Omit<T, F> & Partial<Pick<T, F>>\n\nconst defaultEasing = (t: number) => Math.min(1, 1.001 - Math.pow(2, -10 * t))\n\nexport class Lenis {\n  private _isScrolling: Scrolling = false // true when scroll is animating\n  private _isStopped = false // true if user should not be able to scroll - enable/disable programmatically\n  private _isLocked = false // same as isStopped but enabled/disabled when scroll reaches target\n  private _preventNextNativeScrollEvent = false\n  private _resetVelocityTimeout: ReturnType<typeof setTimeout> | null = null\n  private __rafID: number | null = null\n\n  /**\n   * Whether or not the user is touching the screen\n   */\n  isTouching?: boolean\n  /**\n   * The time in ms since the lenis instance was created\n   */\n  time = 0\n  /**\n   * User data that will be forwarded through the scroll event\n   *\n   * @example\n   * lenis.scrollTo(100, {\n   *   userData: {\n   *     foo: 'bar'\n   *   }\n   * })\n   */\n  userData: UserData = {}\n  /**\n   * The last velocity of the scroll\n   */\n  lastVelocity = 0\n  /**\n   * The current velocity of the scroll\n   */\n  velocity = 0\n  /**\n   * The direction of the scroll\n   */\n  direction: 1 | -1 | 0 = 0\n  /**\n   * The options passed to the lenis instance\n   */\n  options: OptionalPick<\n    Required<LenisOptions>,\n    'duration' | 'easing' | 'prevent' | 'virtualScroll'\n  >\n  /**\n   * The target scroll value\n   */\n  targetScroll: number\n  /**\n   * The animated scroll value\n   */\n  animatedScroll: number\n\n  // These are instanciated here as they don't need information from the options\n  private readonly animate = new Animate()\n  private readonly emitter = new Emitter()\n  // These are instanciated in the constructor as they need information from the options\n  readonly dimensions: Dimensions // This is not private because it's used in the Snap class\n  private readonly virtualScroll: VirtualScroll\n\n  constructor({\n    wrapper = window,\n    content = document.documentElement,\n    eventsTarget = wrapper,\n    smoothWheel = true,\n    syncTouch = false,\n    syncTouchLerp = 0.075,\n    touchInertiaExponent = 1.7,\n    duration, // in seconds\n    easing,\n    lerp = 0.1,\n    infinite = false,\n    orientation = 'vertical', // vertical, horizontal\n    gestureOrientation = orientation === 'horizontal' ? 'both' : 'vertical', // vertical, horizontal, both\n    touchMultiplier = 1,\n    wheelMultiplier = 1,\n    autoResize = true,\n    prevent,\n    virtualScroll,\n    overscroll = true,\n    autoRaf = false,\n    anchors = false,\n    autoToggle = false, // https://caniuse.com/?search=transition-behavior\n    allowNestedScroll = false,\n    __experimental__naiveDimensions = false,\n  }: LenisOptions = {}) {\n    // Set version\n    window.lenisVersion = version\n\n    // Check if wrapper is <html>, fallback to window\n    if (!wrapper || wrapper === document.documentElement) {\n      wrapper = window\n    }\n\n    // flip to easing/time based animation if at least one of them is provided\n    if (typeof duration === 'number' && typeof easing !== 'function') {\n      easing = defaultEasing\n    } else if (typeof easing === 'function' && typeof duration !== 'number') {\n      duration = 1\n    }\n\n    // Setup options\n    this.options = {\n      wrapper,\n      content,\n      eventsTarget,\n      smoothWheel,\n      syncTouch,\n      syncTouchLerp,\n      touchInertiaExponent,\n      duration,\n      easing,\n      lerp,\n      infinite,\n      gestureOrientation,\n      orientation,\n      touchMultiplier,\n      wheelMultiplier,\n      autoResize,\n      prevent,\n      virtualScroll,\n      overscroll,\n      autoRaf,\n      anchors,\n      autoToggle,\n      allowNestedScroll,\n      __experimental__naiveDimensions,\n    }\n\n    // Setup dimensions instance\n    this.dimensions = new Dimensions(wrapper, content, { autoResize })\n\n    // Setup class name\n    this.updateClassName()\n\n    // Set the initial scroll value for all scroll information\n    this.targetScroll = this.animatedScroll = this.actualScroll\n\n    // Add event listeners\n    this.options.wrapper.addEventListener('scroll', this.onNativeScroll, false)\n\n    this.options.wrapper.addEventListener('scrollend', this.onScrollEnd, {\n      capture: true,\n    })\n\n    if (this.options.anchors && this.options.wrapper === window) {\n      this.options.wrapper.addEventListener(\n        'click',\n        this.onClick as EventListener,\n        false\n      )\n    }\n\n    this.options.wrapper.addEventListener(\n      'pointerdown',\n      this.onPointerDown as EventListener,\n      false\n    )\n\n    // Setup virtual scroll instance\n    this.virtualScroll = new VirtualScroll(eventsTarget as HTMLElement, {\n      touchMultiplier,\n      wheelMultiplier,\n    })\n    this.virtualScroll.on('scroll', this.onVirtualScroll)\n\n    if (this.options.autoToggle) {\n      this.checkOverflow()\n      this.rootElement.addEventListener('transitionend', this.onTransitionEnd, {\n        passive: true,\n      })\n    }\n\n    if (this.options.autoRaf) {\n      this.__rafID = requestAnimationFrame(this.raf)\n    }\n  }\n\n  /**\n   * Destroy the lenis instance, remove all event listeners and clean up the class name\n   */\n  destroy() {\n    this.emitter.destroy()\n\n    this.options.wrapper.removeEventListener(\n      'scroll',\n      this.onNativeScroll,\n      false\n    )\n\n    this.options.wrapper.removeEventListener('scrollend', this.onScrollEnd, {\n      capture: true,\n    })\n\n    this.options.wrapper.removeEventListener(\n      'pointerdown',\n      this.onPointerDown as EventListener,\n      false\n    )\n\n    if (this.options.anchors && this.options.wrapper === window) {\n      this.options.wrapper.removeEventListener(\n        'click',\n        this.onClick as EventListener,\n        false\n      )\n    }\n\n    this.virtualScroll.destroy()\n    this.dimensions.destroy()\n\n    this.cleanUpClassName()\n\n    if (this.__rafID) {\n      cancelAnimationFrame(this.__rafID)\n    }\n  }\n\n  /**\n   * Add an event listener for the given event and callback\n   *\n   * @param event Event name\n   * @param callback Callback function\n   * @returns Unsubscribe function\n   */\n  on(event: 'scroll', callback: ScrollCallback): () => void\n  on(event: 'virtual-scroll', callback: VirtualScrollCallback): () => void\n  on(event: LenisEvent, callback: any) {\n    return this.emitter.on(event, callback)\n  }\n\n  /**\n   * Remove an event listener for the given event and callback\n   *\n   * @param event Event name\n   * @param callback Callback function\n   */\n  off(event: 'scroll', callback: ScrollCallback): void\n  off(event: 'virtual-scroll', callback: VirtualScrollCallback): void\n  off(event: LenisEvent, callback: any) {\n    return this.emitter.off(event, callback)\n  }\n\n  private onScrollEnd = (e: Event | CustomEvent) => {\n    if (!(e instanceof CustomEvent)) {\n      if (this.isScrolling === 'smooth' || this.isScrolling === false) {\n        e.stopPropagation()\n      }\n    }\n  }\n\n  private dispatchScrollendEvent = () => {\n    this.options.wrapper.dispatchEvent(\n      new CustomEvent('scrollend', {\n        bubbles: this.options.wrapper === window,\n        // cancelable: false,\n        detail: {\n          lenisScrollEnd: true,\n        },\n      })\n    )\n  }\n\n  get overflow() {\n    const property = this.isHorizontal ? 'overflow-x' : 'overflow-y'\n    return getComputedStyle(this.rootElement)[\n      property as keyof CSSStyleDeclaration\n    ] as string\n  }\n\n  private checkOverflow() {\n    if (['hidden', 'clip'].includes(this.overflow)) {\n      this.internalStop()\n    } else {\n      this.internalStart()\n    }\n  }\n\n  private onTransitionEnd = (event: TransitionEvent) => {\n    if (event.propertyName.includes('overflow')) {\n      this.checkOverflow()\n    }\n  }\n\n  private setScroll(scroll: number) {\n    // behavior: 'instant' bypasses the scroll-behavior CSS property\n\n    if (this.isHorizontal) {\n      this.options.wrapper.scrollTo({ left: scroll, behavior: 'instant' })\n    } else {\n      this.options.wrapper.scrollTo({ top: scroll, behavior: 'instant' })\n    }\n  }\n\n  private onClick = (event: PointerEvent | MouseEvent) => {\n    const path = event.composedPath()\n    const anchor = path.find(\n      (node) =>\n        node instanceof HTMLAnchorElement &&\n        node.getAttribute('href')?.includes('#')\n    ) as HTMLAnchorElement | undefined\n    if (anchor) {\n      const href = anchor.getAttribute('href')\n\n      if (href) {\n        const options =\n          typeof this.options.anchors === 'object' && this.options.anchors\n            ? this.options.anchors\n            : undefined\n\n        const target = `#${href.split('#')[1]}`\n\n        this.scrollTo(target, options)\n      }\n    }\n  }\n\n  private onPointerDown = (event: PointerEvent | MouseEvent) => {\n    if (event.button === 1) {\n      this.reset()\n    }\n  }\n\n  private onVirtualScroll = (data: VirtualScrollData) => {\n    if (\n      typeof this.options.virtualScroll === 'function' &&\n      this.options.virtualScroll(data) === false\n    )\n      return\n\n    const { deltaX, deltaY, event } = data\n\n    this.emitter.emit('virtual-scroll', { deltaX, deltaY, event })\n\n    // keep zoom feature\n    if (event.ctrlKey) return\n    // @ts-ignore\n    if (event.lenisStopPropagation) return\n\n    const isTouch = event.type.includes('touch')\n    const isWheel = event.type.includes('wheel')\n\n    this.isTouching = event.type === 'touchstart' || event.type === 'touchmove'\n    // if (event.type === 'touchend') {\n    //   console.log('touchend', this.scroll)\n    //   // this.lastVelocity = this.velocity\n    //   // this.velocity = 0\n    //   // this.isScrolling = false\n    //   this.emit({ type: 'touchend' })\n    //   // alert('touchend')\n    //   return\n    // }\n\n    const isClickOrTap = deltaX === 0 && deltaY === 0\n\n    const isTapToStop =\n      this.options.syncTouch &&\n      isTouch &&\n      event.type === 'touchstart' &&\n      isClickOrTap &&\n      !this.isStopped &&\n      !this.isLocked\n\n    if (isTapToStop) {\n      this.reset()\n      return\n    }\n\n    // const isPullToRefresh =\n    //   this.options.gestureOrientation === 'vertical' &&\n    //   this.scroll === 0 &&\n    //   !this.options.infinite &&\n    //   deltaY <= 5 // touch pull to refresh, not reliable yet\n\n    const isUnknownGesture =\n      (this.options.gestureOrientation === 'vertical' && deltaY === 0) ||\n      (this.options.gestureOrientation === 'horizontal' && deltaX === 0)\n\n    if (isClickOrTap || isUnknownGesture) {\n      // console.log('prevent')\n      return\n    }\n\n    // catch if scrolling on nested scroll elements\n    let composedPath = event.composedPath()\n    composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement)) // remove parents elements\n\n    const prevent = this.options.prevent\n\n    if (\n      !!composedPath.find(\n        (node) =>\n          node instanceof HTMLElement &&\n          ((typeof prevent === 'function' && prevent?.(node)) ||\n            node.hasAttribute?.('data-lenis-prevent') ||\n            (isTouch && node.hasAttribute?.('data-lenis-prevent-touch')) ||\n            (isWheel && node.hasAttribute?.('data-lenis-prevent-wheel')) ||\n            (this.options.allowNestedScroll &&\n              this.checkNestedScroll(node, { deltaX, deltaY })))\n      )\n    )\n      return\n\n    if (this.isStopped || this.isLocked) {\n      if (event.cancelable) {\n        event.preventDefault() // this will stop forwarding the event to the parent, this is problematic\n      }\n      return\n    }\n\n    const isSmooth =\n      (this.options.syncTouch && isTouch) ||\n      (this.options.smoothWheel && isWheel)\n\n    if (!isSmooth) {\n      this.isScrolling = 'native'\n      this.animate.stop()\n      // @ts-ignore\n      event.lenisStopPropagation = true\n      return\n    }\n\n    let delta = deltaY\n    if (this.options.gestureOrientation === 'both') {\n      delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX\n    } else if (this.options.gestureOrientation === 'horizontal') {\n      delta = deltaX\n    }\n\n    if (\n      !this.options.overscroll ||\n      this.options.infinite ||\n      (this.options.wrapper !== window &&\n        this.limit > 0 &&\n        ((this.animatedScroll > 0 && this.animatedScroll < this.limit) ||\n          (this.animatedScroll === 0 && deltaY > 0) ||\n          (this.animatedScroll === this.limit && deltaY < 0)))\n    ) {\n      // @ts-ignore\n      event.lenisStopPropagation = true\n      // event.stopPropagation()\n    }\n\n    if (event.cancelable) {\n      event.preventDefault()\n    }\n\n    const isSyncTouch = isTouch && this.options.syncTouch\n    const isTouchEnd = isTouch && event.type === 'touchend'\n\n    const hasTouchInertia = isTouchEnd\n\n    if (hasTouchInertia) {\n      // delta = this.velocity * this.options.touchInertiaMultiplier\n      delta =\n        Math.sign(this.velocity) *\n        Math.pow(Math.abs(this.velocity), this.options.touchInertiaExponent)\n    }\n\n    this.scrollTo(this.targetScroll + delta, {\n      programmatic: false,\n      ...(isSyncTouch\n        ? {\n            lerp: hasTouchInertia ? this.options.syncTouchLerp : 1,\n            // immediate: !hasTouchInertia,\n          }\n        : {\n            lerp: this.options.lerp,\n            duration: this.options.duration,\n            easing: this.options.easing,\n          }),\n    })\n  }\n\n  /**\n   * Force lenis to recalculate the dimensions\n   */\n  resize() {\n    this.dimensions.resize()\n    this.animatedScroll = this.targetScroll = this.actualScroll\n    this.emit()\n  }\n\n  private emit() {\n    this.emitter.emit('scroll', this)\n  }\n\n  private onNativeScroll = () => {\n    if (this._resetVelocityTimeout !== null) {\n      clearTimeout(this._resetVelocityTimeout)\n      this._resetVelocityTimeout = null\n    }\n\n    if (this._preventNextNativeScrollEvent) {\n      this._preventNextNativeScrollEvent = false\n      return\n    }\n\n    if (this.isScrolling === false || this.isScrolling === 'native') {\n      const lastScroll = this.animatedScroll\n      this.animatedScroll = this.targetScroll = this.actualScroll\n      this.lastVelocity = this.velocity\n      this.velocity = this.animatedScroll - lastScroll\n      this.direction = Math.sign(\n        this.animatedScroll - lastScroll\n      ) as Lenis['direction']\n\n      if (!this.isStopped) {\n        this.isScrolling = 'native'\n      }\n\n      this.emit()\n\n      if (this.velocity !== 0) {\n        this._resetVelocityTimeout = setTimeout(() => {\n          this.lastVelocity = this.velocity\n          this.velocity = 0\n          this.isScrolling = false\n          this.emit()\n        }, 400)\n      }\n    }\n  }\n\n  private reset() {\n    this.isLocked = false\n    this.isScrolling = false\n    this.animatedScroll = this.targetScroll = this.actualScroll\n    this.lastVelocity = this.velocity = 0\n    this.animate.stop()\n  }\n\n  /**\n   * Start lenis scroll after it has been stopped\n   */\n  start() {\n    if (!this.isStopped) return\n\n    if (this.options.autoToggle) {\n      this.rootElement.style.removeProperty('overflow')\n      return\n    }\n\n    this.internalStart()\n  }\n\n  private internalStart() {\n    if (!this.isStopped) return\n\n    this.reset()\n    this.isStopped = false\n    this.emit()\n  }\n\n  /**\n   * Stop lenis scroll\n   */\n  stop() {\n    if (this.isStopped) return\n\n    if (this.options.autoToggle) {\n      this.rootElement.style.setProperty('overflow', 'clip')\n      return\n    }\n\n    this.internalStop()\n  }\n\n  private internalStop() {\n    if (this.isStopped) return\n\n    this.reset()\n    this.isStopped = true\n    this.emit()\n  }\n\n  /**\n   * RequestAnimationFrame for lenis\n   *\n   * @param time The time in ms from an external clock like `requestAnimationFrame` or Tempus\n   */\n  raf = (time: number) => {\n    const deltaTime = time - (this.time || time)\n    this.time = time\n\n    this.animate.advance(deltaTime * 0.001)\n\n    if (this.options.autoRaf) {\n      this.__rafID = requestAnimationFrame(this.raf)\n    }\n  }\n\n  /**\n   * Scroll to a target value\n   *\n   * @param target The target value to scroll to\n   * @param options The options for the scroll\n   *\n   * @example\n   * lenis.scrollTo(100, {\n   *   offset: 100,\n   *   duration: 1,\n   *   easing: (t) => 1 - Math.cos((t * Math.PI) / 2),\n   *   lerp: 0.1,\n   *   onStart: () => {\n   *     console.log('onStart')\n   *   },\n   *   onComplete: () => {\n   *     console.log('onComplete')\n   *   },\n   * })\n   */\n  scrollTo(\n    target: number | string | HTMLElement,\n    {\n      offset = 0,\n      immediate = false,\n      lock = false,\n      duration = this.options.duration,\n      easing = this.options.easing,\n      lerp = this.options.lerp,\n      onStart,\n      onComplete,\n      force = false, // scroll even if stopped\n      programmatic = true, // called from outside of the class\n      userData,\n    }: ScrollToOptions = {}\n  ) {\n    if ((this.isStopped || this.isLocked) && !force) return\n\n    // keywords\n    if (\n      typeof target === 'string' &&\n      ['top', 'left', 'start', '#'].includes(target)\n    ) {\n      target = 0\n    } else if (\n      typeof target === 'string' &&\n      ['bottom', 'right', 'end'].includes(target)\n    ) {\n      target = this.limit\n    } else {\n      let node\n\n      if (typeof target === 'string') {\n        // CSS selector\n        node = document.querySelector(target)\n\n        if (!node) {\n          if (target === '#top') {\n            target = 0\n          } else {\n            console.warn('Lenis: Target not found', target)\n          }\n        }\n      } else if (target instanceof HTMLElement && target?.nodeType) {\n        // Node element\n        node = target\n      }\n\n      if (node) {\n        if (this.options.wrapper !== window) {\n          // nested scroll offset correction\n          const wrapperRect = this.rootElement.getBoundingClientRect()\n          offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top\n        }\n\n        const rect = node.getBoundingClientRect()\n\n        target =\n          (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll\n      }\n    }\n\n    if (typeof target !== 'number') return\n\n    target += offset\n    target = Math.round(target)\n\n    if (this.options.infinite) {\n      if (programmatic) {\n        this.targetScroll = this.animatedScroll = this.scroll\n\n        const distance = target - this.animatedScroll\n\n        if (distance > this.limit / 2) {\n          target = target - this.limit\n        } else if (distance < -this.limit / 2) {\n          target = target + this.limit\n        }\n      }\n    } else {\n      target = clamp(0, target, this.limit)\n    }\n\n    if (target === this.targetScroll) {\n      onStart?.(this)\n      onComplete?.(this)\n      return\n    }\n\n    this.userData = userData ?? {}\n\n    if (immediate) {\n      this.animatedScroll = this.targetScroll = target\n      this.setScroll(this.scroll)\n      this.reset()\n      this.preventNextNativeScrollEvent()\n      this.emit()\n      onComplete?.(this)\n      this.userData = {}\n\n      requestAnimationFrame(() => {\n        this.dispatchScrollendEvent()\n      })\n      return\n    }\n\n    if (!programmatic) {\n      this.targetScroll = target\n    }\n\n    // flip to easing/time based animation if at least one of them is provided\n    if (typeof duration === 'number' && typeof easing !== 'function') {\n      easing = defaultEasing\n    } else if (typeof easing === 'function' && typeof duration !== 'number') {\n      duration = 1\n    }\n\n    this.animate.fromTo(this.animatedScroll, target, {\n      duration,\n      easing,\n      lerp,\n      onStart: () => {\n        // started\n        if (lock) this.isLocked = true\n        this.isScrolling = 'smooth'\n        onStart?.(this)\n      },\n      onUpdate: (value: number, completed: boolean) => {\n        this.isScrolling = 'smooth'\n\n        // updated\n        this.lastVelocity = this.velocity\n        this.velocity = value - this.animatedScroll\n        this.direction = Math.sign(this.velocity) as Lenis['direction']\n\n        this.animatedScroll = value\n        this.setScroll(this.scroll)\n\n        if (programmatic) {\n          // wheel during programmatic should stop it\n          this.targetScroll = value\n        }\n\n        if (!completed) this.emit()\n\n        if (completed) {\n          this.reset()\n          this.emit()\n          onComplete?.(this)\n          this.userData = {}\n\n          requestAnimationFrame(() => {\n            this.dispatchScrollendEvent()\n          })\n\n          // avoid emitting event twice\n          this.preventNextNativeScrollEvent()\n        }\n      },\n    })\n  }\n\n  private preventNextNativeScrollEvent() {\n    this._preventNextNativeScrollEvent = true\n\n    requestAnimationFrame(() => {\n      this._preventNextNativeScrollEvent = false\n    })\n  }\n\n  private checkNestedScroll(\n    node: HTMLElement,\n    { deltaX, deltaY }: { deltaX: number; deltaY: number }\n  ) {\n    const time = Date.now()\n\n    // @ts-ignore\n    const cache = (node._lenis ??= {})\n\n    let hasOverflowX,\n      hasOverflowY,\n      isScrollableX,\n      isScrollableY,\n      scrollWidth,\n      scrollHeight,\n      clientWidth,\n      clientHeight\n\n    const gestureOrientation = this.options.gestureOrientation\n\n    if (time - (cache.time ?? 0) > 2000) {\n      cache.time = Date.now()\n\n      const computedStyle = window.getComputedStyle(node)\n      cache.computedStyle = computedStyle\n\n      const overflowXString = computedStyle.overflowX\n      const overflowYString = computedStyle.overflowY\n\n      hasOverflowX = ['auto', 'overlay', 'scroll'].includes(overflowXString)\n      hasOverflowY = ['auto', 'overlay', 'scroll'].includes(overflowYString)\n      cache.hasOverflowX = hasOverflowX\n      cache.hasOverflowY = hasOverflowY\n\n      if (!hasOverflowX && !hasOverflowY) return false // if no overflow, it's not scrollable no matter what, early return saves some computations\n      if (gestureOrientation === 'vertical' && !hasOverflowY) return false\n      if (gestureOrientation === 'horizontal' && !hasOverflowX) return false\n\n      scrollWidth = node.scrollWidth\n      scrollHeight = node.scrollHeight\n\n      clientWidth = node.clientWidth\n      clientHeight = node.clientHeight\n\n      isScrollableX = scrollWidth > clientWidth\n      isScrollableY = scrollHeight > clientHeight\n\n      cache.isScrollableX = isScrollableX\n      cache.isScrollableY = isScrollableY\n      cache.scrollWidth = scrollWidth\n      cache.scrollHeight = scrollHeight\n      cache.clientWidth = clientWidth\n      cache.clientHeight = clientHeight\n    } else {\n      isScrollableX = cache.isScrollableX\n      isScrollableY = cache.isScrollableY\n      hasOverflowX = cache.hasOverflowX\n      hasOverflowY = cache.hasOverflowY\n      scrollWidth = cache.scrollWidth\n      scrollHeight = cache.scrollHeight\n      clientWidth = cache.clientWidth\n      clientHeight = cache.clientHeight\n    }\n\n    if (\n      (!hasOverflowX && !hasOverflowY) ||\n      (!isScrollableX && !isScrollableY)\n    ) {\n      return false\n    }\n\n    if (gestureOrientation === 'vertical' && (!hasOverflowY || !isScrollableY))\n      return false\n\n    if (\n      gestureOrientation === 'horizontal' &&\n      (!hasOverflowX || !isScrollableX)\n    )\n      return false\n\n    let orientation: 'x' | 'y' | undefined\n\n    if (gestureOrientation === 'horizontal') {\n      orientation = 'x'\n    } else if (gestureOrientation === 'vertical') {\n      orientation = 'y'\n    } else {\n      const isScrollingX = deltaX !== 0\n      const isScrollingY = deltaY !== 0\n\n      if (isScrollingX && hasOverflowX && isScrollableX) {\n        orientation = 'x'\n      }\n\n      if (isScrollingY && hasOverflowY && isScrollableY) {\n        orientation = 'y'\n      }\n    }\n\n    if (!orientation) return false\n\n    let scroll, maxScroll, delta, hasOverflow, isScrollable\n\n    if (orientation === 'x') {\n      scroll = node.scrollLeft\n      maxScroll = scrollWidth - clientWidth\n      delta = deltaX\n\n      hasOverflow = hasOverflowX\n      isScrollable = isScrollableX\n    } else if (orientation === 'y') {\n      scroll = node.scrollTop\n      maxScroll = scrollHeight - clientHeight\n      delta = deltaY\n\n      hasOverflow = hasOverflowY\n      isScrollable = isScrollableY\n    } else {\n      return false\n    }\n\n    const willScroll = delta > 0 ? scroll < maxScroll : scroll > 0\n\n    return willScroll && hasOverflow && isScrollable\n  }\n\n  /**\n   * The root element on which lenis is instanced\n   */\n  get rootElement() {\n    return (\n      this.options.wrapper === window\n        ? document.documentElement\n        : this.options.wrapper\n    ) as HTMLElement\n  }\n\n  /**\n   * The limit which is the maximum scroll value\n   */\n  get limit() {\n    if (this.options.__experimental__naiveDimensions) {\n      if (this.isHorizontal) {\n        return this.rootElement.scrollWidth - this.rootElement.clientWidth\n      } else {\n        return this.rootElement.scrollHeight - this.rootElement.clientHeight\n      }\n    } else {\n      return this.dimensions.limit[this.isHorizontal ? 'x' : 'y']\n    }\n  }\n\n  /**\n   * Whether or not the scroll is horizontal\n   */\n  get isHorizontal() {\n    return this.options.orientation === 'horizontal'\n  }\n\n  /**\n   * The actual scroll value\n   */\n  get actualScroll() {\n    // value browser takes into account\n    // it has to be this way because of DOCTYPE declaration\n    const wrapper = this.options.wrapper as Window | HTMLElement\n\n    return this.isHorizontal\n      ? (wrapper as Window).scrollX ?? (wrapper as HTMLElement).scrollLeft\n      : (wrapper as Window).scrollY ?? (wrapper as HTMLElement).scrollTop\n  }\n\n  /**\n   * The current scroll value\n   */\n  get scroll() {\n    return this.options.infinite\n      ? modulo(this.animatedScroll, this.limit)\n      : this.animatedScroll\n  }\n\n  /**\n   * The progress of the scroll relative to the limit\n   */\n  get progress() {\n    // avoid progress to be NaN\n    return this.limit === 0 ? 1 : this.scroll / this.limit\n  }\n\n  /**\n   * Current scroll state\n   */\n  get isScrolling() {\n    return this._isScrolling\n  }\n\n  private set isScrolling(value: Scrolling) {\n    if (this._isScrolling !== value) {\n      this._isScrolling = value\n      this.updateClassName()\n    }\n  }\n\n  /**\n   * Check if lenis is stopped\n   */\n  get isStopped() {\n    return this._isStopped\n  }\n\n  private set isStopped(value: boolean) {\n    if (this._isStopped !== value) {\n      this._isStopped = value\n      this.updateClassName()\n    }\n  }\n\n  /**\n   * Check if lenis is locked\n   */\n  get isLocked() {\n    return this._isLocked\n  }\n\n  private set isLocked(value: boolean) {\n    if (this._isLocked !== value) {\n      this._isLocked = value\n      this.updateClassName()\n    }\n  }\n\n  /**\n   * Check if lenis is smooth scrolling\n   */\n  get isSmooth() {\n    return this.isScrolling === 'smooth'\n  }\n\n  /**\n   * The class name applied to the wrapper element\n   */\n  get className() {\n    let className = 'lenis'\n    if (this.options.autoToggle) className += ' lenis-autoToggle'\n    if (this.isStopped) className += ' lenis-stopped'\n    if (this.isLocked) className += ' lenis-locked'\n    if (this.isScrolling) className += ' lenis-scrolling'\n    if (this.isScrolling === 'smooth') className += ' lenis-smooth'\n    return className\n  }\n\n  private updateClassName() {\n    this.cleanUpClassName()\n\n    this.rootElement.className =\n      `${this.rootElement.className} ${this.className}`.trim()\n  }\n\n  private cleanUpClassName() {\n    this.rootElement.className = this.rootElement.className\n      .replace(/lenis(-\\w+)?/g, '')\n      .trim()\n  }\n}\n", "import { ImgLoading } from \"@felicetteapp/img-loading\";\nimport \"./gifs\";\nimport \"./filters\";\nimport Lenis from \"lenis\";\n\nconst lenis = new Lenis();\n\nlet selectedTsuruUuid: string | null = null;\nlet isAnimatingModal = false;\n\nconst clearAllSelectedTsuru = () => {\n  const tsuruImages = document.querySelectorAll(\".tsuru--selected\");\n  tsuruImages.forEach((tsuruImage) => {\n    tsuruImage.classList.remove(\"tsuru--selected\");\n  });\n};\n\nconst handleCloseTsuruModal = () => {\n  if (isAnimatingModal || selectedTsuruUuid === null) {\n    return;\n  }\n  isAnimatingModal = true;\n  const tsuruImageEl = document.querySelector(\n    `[il-uuid=\"${selectedTsuruUuid}\"]`\n  );\n\n  if (!tsuruImageEl) {\n    return;\n  }\n\n  const imgAspectRatio = tsuruImageEl.getAttribute(\"il-aspect-ratio\");\n  const imgSrc = tsuruImageEl.getAttribute(\"il-fullsize\");\n  const modalImgEl: HTMLDivElement | null =\n    document.querySelector(\".modal__image\");\n\n  if (!imgAspectRatio || !imgSrc || !modalImgEl) {\n    return;\n  }\n\n  document.documentElement.style.setProperty(\n    \"--modal-img-src\",\n    `url(/${imgSrc})`\n  );\n\n  const positionOfTheTsuru = tsuruImageEl.getBoundingClientRect();\n  const positionRelativeToViewport = {\n    top: positionOfTheTsuru.top,\n    left: positionOfTheTsuru.left,\n    width: positionOfTheTsuru.width,\n    height: positionOfTheTsuru.height,\n  };\n\n  const modalEl = document.querySelector(\".modal\");\n\n  if (!modalEl) {\n    return;\n  }\n\n  const imgAnimationDuration = 500;\n\n  modalEl\n    .animate(\n      [\n        {\n          backgroundColor: \"rgba(0, 0, 0, 1)\",\n        },\n        {\n          backgroundColor: \"rgba(0, 0, 0, 0)\",\n        },\n      ],\n      {\n        duration: 250,\n        delay: imgAnimationDuration,\n        easing: \"ease-out\",\n      }\n    )\n    .finished.then(() => {\n      document.body.classList.remove(\"modal--open\");\n      selectedTsuruUuid = null;\n      clearAllSelectedTsuru();\n      isAnimatingModal = false;\n    });\n\n  const parsedAspectRatio = imgAspectRatio.split(\"/\");\n  const aspectRatio =\n    Number(parsedAspectRatio[0]) / Number(parsedAspectRatio[1]);\n\n  const targetSize = calculateTargetSize(aspectRatio);\n\n  const targetPosition = {\n    left: (window.innerWidth - targetSize.width) / 2,\n    top: (window.innerHeight - targetSize.height) / 2,\n  };\n\n  const originalElementRect = tsuruImageEl.getBoundingClientRect();\n\n  modalImgEl.style.backgroundSize = \"cover\";\n\n  const modalImgAnimation = modalImgEl.animate(\n    [\n      {\n        left: `${targetPosition.left}px`,\n        top: `${targetPosition.top}px`,\n        width: `${targetSize.width}px`,\n        height: `${targetSize.height}px`,\n      },\n      {\n        left: `${originalElementRect.left}px`,\n        top: `${originalElementRect.top}px`,\n        width: `${originalElementRect.width}px`,\n        height: `${originalElementRect.height}px`,\n      },\n    ],\n    {\n      duration: imgAnimationDuration,\n      easing: \"ease-in-out\",\n      fill: \"forwards\",\n    }\n  );\n\n  modalImgAnimation.finished.then(() => {\n    modalImgAnimation.commitStyles();\n    modalImgAnimation.cancel();\n    modalImgEl.style.backgroundSize = \"\";\n  });\n};\n\nconst calculateTargetSize = (aspectRatio: number) => {\n  const isVertical = window.innerHeight < window.innerWidth;\n  const maxHeight = window.innerHeight;\n  const maxWidth = window.innerWidth;\n\n  let targetWidth = isVertical ? maxWidth : maxHeight * aspectRatio;\n  let targetHeight = isVertical ? maxWidth / aspectRatio : maxHeight;\n\n  if (targetWidth > maxWidth) {\n    targetWidth = maxWidth;\n    targetHeight = maxWidth / aspectRatio;\n  }\n  if (targetHeight > maxHeight) {\n    targetHeight = maxHeight;\n    targetWidth = maxHeight * aspectRatio;\n  }\n  return {\n    width: targetWidth,\n    height: targetHeight,\n  };\n};\n\nconst handleTsuruOnClick = (event: MouseEvent) => {\n  if (event.target !== event.currentTarget) {\n    return;\n  }\n  const hasATsuruSelected = selectedTsuruUuid !== null;\n  if (hasATsuruSelected || isAnimatingModal) {\n    return;\n  }\n  const widthWithoutModalOpen = document.documentElement.clientWidth;\n  const scrollBarWidth =\n    window.innerWidth - document.documentElement.clientWidth;\n\n  event.preventDefault();\n  clearAllSelectedTsuru();\n\n  const modalImgEl: HTMLDivElement | null =\n    document.querySelector(\".modal__image\");\n  const tsuruEl = event.target as HTMLElement | null;\n  if (!tsuruEl) {\n    return;\n  }\n  const tsuruUuid: string = tsuruEl.getAttribute(\"t-uuid\") || \"\";\n  selectedTsuruUuid = tsuruUuid;\n  const tsuruImageEl = document.querySelector(`[il-uuid=\"${tsuruUuid}\"]`);\n\n  if (!tsuruImageEl || !modalImgEl) {\n    return;\n  }\n\n  const imgSrc = tsuruImageEl.getAttribute(\"il-fullsize\");\n  const imgAspectRatio = tsuruImageEl.getAttribute(\"il-aspect-ratio\");\n\n  if (!imgSrc || !imgAspectRatio) {\n    selectedTsuruUuid = null;\n    return;\n  }\n\n  isAnimatingModal = true;\n\n  document.documentElement.style.setProperty(\n    \"--modal-img-src\",\n    `url(/${imgSrc})`\n  );\n  document.documentElement.style.setProperty(\n    \"--modal-img-aspect-ratio\",\n    imgAspectRatio\n  );\n\n  document.body.classList.add(\"modal--open\");\n\n  tsuruEl.classList.add(\"tsuru--selected\");\n\n  const widthWithModalOpen = document.documentElement.clientWidth;\n\n  if (widthWithoutModalOpen !== widthWithModalOpen) {\n    document.documentElement.style.setProperty(\n      \"--scroll-width\",\n      `${scrollBarWidth}px`\n    );\n  } else {\n    document.documentElement.style.setProperty(\"--scroll-width\", \"0px\");\n  }\n\n  const modalEl = document.querySelector(\".modal\");\n\n  if (!modalEl) {\n    return;\n  }\n\n  const backgroundAnimation = modalEl.animate(\n    [\n      {\n        backgroundColor: \"rgba(0, 0, 0, 0)\",\n      },\n      {\n        backgroundColor: \"rgba(0, 0, 0, 1)\",\n      },\n    ],\n    {\n      duration: 250,\n      easing: \"ease-out\",\n      fill: \"forwards\",\n    }\n  );\n\n  backgroundAnimation.finished.then(() => {\n    backgroundAnimation.commitStyles();\n    backgroundAnimation.cancel();\n  });\n\n  const parsedAspectRatio = imgAspectRatio.split(\"/\");\n  const aspectRatio =\n    Number(parsedAspectRatio[0]) / Number(parsedAspectRatio[1]);\n\n  const targetSize = calculateTargetSize(aspectRatio);\n\n  const targetPosition = {\n    left: (window.innerWidth - targetSize.width) / 2,\n    top: (window.innerHeight - targetSize.height) / 2,\n  };\n\n  const originalElementRect = tsuruImageEl.getBoundingClientRect();\n  const modalImgAnimation = modalImgEl.animate(\n    [\n      {\n        height: originalElementRect.height + \"px\",\n        width: originalElementRect.width + \"px\",\n        left: originalElementRect.left + \"px\",\n        top: originalElementRect.top + \"px\",\n      },\n      {\n        height: targetSize.height + \"px\",\n        left: targetPosition.left + \"px\",\n        top: targetPosition.top + \"px\",\n        width: targetSize.width + \"px\",\n      },\n    ],\n    {\n      duration: 500,\n      easing: \"ease-in-out\",\n      fill: \"forwards\",\n    }\n  );\n\n  modalImgAnimation.finished.then(() => {\n    modalImgAnimation.commitStyles();\n    modalImgAnimation.cancel();\n    modalImgEl.style.backgroundSize = \"contain\";\n    modalImgEl.style.left = `0px`;\n    modalImgEl.style.top = `0px`;\n    modalImgEl.style.width = \"100dvw\";\n    modalImgEl.style.height = \"100dvh\";\n    isAnimatingModal = false;\n  });\n};\n\nconst handleMouseMove = (event: MouseEvent) => {\n  const x = Math.round(event.clientX);\n  const y = Math.round(event.clientY);\n\n  document.documentElement.style.setProperty(\"--mouse-x\", `${x}px`);\n  document.documentElement.style.setProperty(\"--mouse-y\", `${y}px`);\n};\n\nconst onLoad = () => {\n  document.addEventListener(\"mousemove\", handleMouseMove);\n\n  const imgLoading = new ImgLoading();\n  imgLoading.init(\"[img-loading]\", {\n    container: document.body,\n  });\n\n  const tsuruImages = document.querySelectorAll<HTMLElement>(\"[t-item]\");\n\n  const modalEl = document.querySelector(\".modal\");\n\n  if (modalEl) {\n    modalEl.addEventListener(\"click\", handleCloseTsuruModal);\n  }\n\n  tsuruImages.forEach((tsuruImage) => {\n    tsuruImage.addEventListener(\"click\", handleTsuruOnClick);\n  });\n\n  const anotherImgLoading = new ImgLoading();\n  anotherImgLoading.init(\"[img-loading-me]\", {\n    container: document.body,\n  });\n\n  function raf(time: number) {\n    lenis.raf(time);\n    requestAnimationFrame(raf);\n  }\n\n  requestAnimationFrame(raf);\n};\n\nwindow.addEventListener(\"load\", onLoad);\n"],
  "mappings": "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",
  "names": ["t", "i", "s", "e", "_e", "a", "r", "n", "o", "h", "l", "tsurusGifs", "fetchGifsJsonData", "url", "data", "color", "handleBtnClick", "event", "gifUuid", "tsuruEl", "tsuruGifEl", "foundTsuru", "g", "thisTsuruGifPath", "onLoadGifsScript", "btn", "filteredYears", "filteredMonths", "filteredCountries", "filteredColors", "filteredCities", "filtersButton", "filterToggleButton", "tsurusGroupedBySimilarColors", "fetchJsonData", "url", "data", "color", "filterNodesByYears", "nodes", "years", "node", "filterNodesByMonths", "months", "filterNodesByCountries", "countries", "splitedLocation", "thisNodeCountry", "filterNodesByCities", "cities", "location", "city", "filterNodesByColors", "colors", "iColor", "handleFilterButtonClick", "event", "targetElement", "type", "value", "allTsurus", "filteredByYears", "filteredByMonths", "filteredByCountries", "filteredByCities", "filteredByColors", "tsuru", "handleFilterToggle", "handleFiltersOnLoad", "button", "version", "clamp", "min", "input", "max", "lerp", "x", "y", "t", "damp", "lambda", "deltaTime", "modulo", "n", "d", "Animate", "__publicField", "completed", "linearProgress", "easedProgress", "from", "to", "duration", "easing", "onStart", "onUpdate", "debounce", "callback", "delay", "timer", "args", "context", "Dimensions", "wrapper", "content", "autoResize", "debounceValue", "Emitter", "event", "callbacks", "i", "length", "cb", "LINE_HEIGHT", "listenerOptions", "VirtualScroll", "element", "options", "clientX", "clientY", "deltaX", "deltaY", "deltaMode", "multiplierX", "multiplierY", "defaultEasing", "Lenis", "eventsTarget", "smoothWheel", "syncTouch", "syncTouchLerp", "touchInertiaExponent", "infinite", "orientation", "gestureOrientation", "touchMultiplier", "wheelMultiplier", "prevent", "virtualScroll", "overscroll", "autoRaf", "anchors", "autoToggle", "allowNestedScroll", "__experimental__naiveDimensions", "e", "anchor", "node", "href", "target", "data", "isTouch", "isWheel", "isClickOrTap", "isUnknownGesture", "composedPath", "delta", "isSyncTouch", "hasTouchInertia", "lastScroll", "time", "property", "scroll", "offset", "immediate", "lock", "onComplete", "force", "programmatic", "userData", "wrapperRect", "rect", "distance", "value", "cache", "hasOverflowX", "hasOverflowY", "isScrollableX", "isScrollableY", "scrollWidth", "scrollHeight", "clientWidth", "clientHeight", "computedStyle", "overflowXString", "overflowYString", "isScrollingX", "isScrollingY", "maxScroll", "hasOverflow", "isScrollable", "className", "lenis", "Lenis", "selectedTsuruUuid", "isAnimatingModal", "clearAllSelectedTsuru", "tsuruImage", "handleCloseTsuruModal", "tsuruImageEl", "imgAspectRatio", "imgSrc", "modalImgEl", "positionOfTheTsuru", "positionRelativeToViewport", "modalEl", "imgAnimationDuration", "parsedAspectRatio", "aspectRatio", "targetSize", "calculateTargetSize", "targetPosition", "originalElementRect", "modalImgAnimation", "isVertical", "maxHeight", "maxWidth", "targetWidth", "targetHeight", "handleTsuruOnClick", "event", "widthWithoutModalOpen", "scrollBarWidth", "tsuruEl", "tsuruUuid", "widthWithModalOpen", "backgroundAnimation", "handleMouseMove", "x", "y", "onLoad", "a", "tsuruImages", "raf", "time"]
}
